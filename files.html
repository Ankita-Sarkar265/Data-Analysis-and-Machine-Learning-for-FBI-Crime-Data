{% extends "base.html" %}

{% block content %}
  <h2>Uploaded Files</h2>
  <ul class="list-group mt-4">
  {% if files %}
    {% for file in files %}
      <li class="list-group-item d-flex justify-content-between align-items-center">
        {{ file }}
        <div>
          <a href="{{ url_for('uploaded_file', filename=file) }}" class="btn btn-sm btn-primary me-2" target="_blank">
            View / Download
          </a>
          <form action="{{ url_for('delete_file', filename=file) }}" method="POST" class="d-inline">
            {{ form.hidden_tag() }} 
            <button type="submit" class="btn btn-danger btn-sm">
              <i class="fas fa-trash-alt"></i> Delete
            </button>
          </form>
        </div>
      </li>
    {% endfor %}
  {% else %}
    <li class="list-group-item">No files uploaded yet.</li>
  {% endif %}
  </ul>
{% endblock %}
